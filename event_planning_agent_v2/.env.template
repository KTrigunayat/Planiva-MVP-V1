# Database Configuration
DATABASE_URL=postgresql://eventuser:eventpass@localhost:5432/eventdb
DATABASE_POOL_SIZE=20
DATABASE_MAX_OVERFLOW=30

# LLM Configuration
OLLAMA_BASE_URL=http://localhost:11434
GEMMA_MODEL=gemma:2b
TINYLLAMA_MODEL=tinyllama
LLM_TIMEOUT=30
LLM_MAX_RETRIES=3

# CrewAI Configuration
CREW_VERBOSE=true
CREW_MAX_ITERATIONS=10
CREW_MEMORY=true

# LangGraph Configuration
BEAM_WIDTH=3
MAX_WORKFLOW_ITERATIONS=20
WORKFLOW_TIMEOUT=300
ENABLE_CHECKPOINTING=true

# MCP Configuration
MCP_SERVERS_CONFIG=config/mcp_config.json
MCP_TIMEOUT=30
MCP_MAX_RETRIES=3

# API Configuration
API_HOST=0.0.0.0
API_PORT=8000
API_WORKERS=4
API_RELOAD=false
CORS_ORIGINS=["http://localhost:3000", "http://localhost:8080"]

# Security Configuration
SECRET_KEY=your-secret-key-here-change-in-production
ACCESS_TOKEN_EXPIRE_MINUTES=30
ALGORITHM=HS256

# Logging Configuration
LOG_LEVEL=INFO
LOG_FORMAT=json
LOG_FILE=logs/event_planning.log
ENABLE_STRUCTURED_LOGGING=true

# Monitoring Configuration
PROMETHEUS_URL=http://localhost:9090
GRAFANA_URL=http://localhost:3000
ENABLE_METRICS=true
METRICS_PORT=8001

# Environment
ENVIRONMENT=development
DEBUG=false

# Performance Configuration
WORKER_TIMEOUT=300
KEEP_ALIVE=2
MAX_REQUESTS=1000
MAX_REQUESTS_JITTER=50

# Cache Configuration
REDIS_URL=redis://localhost:6379/0
CACHE_TTL=3600
ENABLE_CACHING=true

# Feature Flags
ENABLE_BEAM_SEARCH=true
ENABLE_MCP_SERVERS=true
ENABLE_MONITORING=true
ENABLE_RATE_LIMITING=true

# ============================================================================
# CRM COMMUNICATION ENGINE CONFIGURATION
# ============================================================================
# This section configures the CRM Communication Engine for multi-channel
# client communications (Email, SMS, WhatsApp) throughout the event planning
# lifecycle. All credentials should be changed in production environments.
# ============================================================================

# CRM General Settings
# ----------------------------------------------------------------------------
CRM_ENABLED=true
CRM_DEFAULT_TIMEZONE=UTC
CRM_TEMPLATE_CACHE_TTL=3600
CRM_PREFERENCE_CACHE_TTL=3600

# CRM Security Configuration
# ----------------------------------------------------------------------------
# Database Encryption Key (REQUIRED - minimum 32 characters)
# Used for encrypting sensitive client data (email addresses, phone numbers)
# Generate with: python -c "import secrets; print(secrets.token_urlsafe(32))"
DB_ENCRYPTION_KEY=your-encryption-key-here-change-in-production-min-32-chars

# TLS/HTTPS Validation
VERIFY_SSL=true
SSL_CERT_PATH=

# Credential Rotation Settings
CREDENTIAL_ROTATION_INTERVAL_DAYS=90
CREDENTIAL_ROTATION_WARNING_DAYS=7

# Security Headers
ENABLE_SECURITY_HEADERS=true

# WhatsApp Business API Configuration
# ----------------------------------------------------------------------------
# Enable/disable WhatsApp messaging channel
CRM_WHATSAPP_ENABLED=false

# WhatsApp Business API credentials
# Obtain from: https://developers.facebook.com/docs/whatsapp/cloud-api/get-started
WHATSAPP_API_URL=https://graph.facebook.com/v18.0
WHATSAPP_ACCESS_TOKEN=your-whatsapp-access-token
WHATSAPP_PHONE_NUMBER_ID=your-phone-number-id
WHATSAPP_BUSINESS_ACCOUNT_ID=your-business-account-id
WHATSAPP_WEBHOOK_VERIFY_TOKEN=your-webhook-verify-token

# WhatsApp rate limiting (free tier: 1000 messages/day)
WHATSAPP_RATE_LIMIT_PER_DAY=1000

# Twilio SMS API Configuration
# ----------------------------------------------------------------------------
# Enable/disable SMS messaging channel
CRM_TWILIO_ENABLED=false

# Twilio API credentials
# Obtain from: https://www.twilio.com/console
TWILIO_ACCOUNT_SID=your-twilio-account-sid
TWILIO_AUTH_TOKEN=your-twilio-auth-token

# Twilio phone number (must be in E.164 format: +1234567890)
TWILIO_FROM_NUMBER=+1234567890

# Twilio webhook URL for delivery receipts
TWILIO_WEBHOOK_URL=https://your-domain.com/api/crm/webhooks/twilio

# Twilio rate limiting (1 message per second per phone number)
TWILIO_RATE_LIMIT_PER_SECOND=1

# SMTP Email Configuration
# ----------------------------------------------------------------------------
# Enable/disable email messaging channel
CRM_SMTP_ENABLED=true

# SMTP server settings
# Common providers:
#   Gmail: smtp.gmail.com:587 (TLS)
#   Outlook: smtp.office365.com:587 (TLS)
#   SendGrid: smtp.sendgrid.net:587 (TLS)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=your-email@example.com
SMTP_PASSWORD=your-smtp-password

# SMTP encryption (use TLS for port 587, SSL for port 465)
SMTP_USE_TLS=true
SMTP_USE_SSL=false

# Email sender information
SMTP_FROM_EMAIL=noreply@eventplanning.example.com
SMTP_FROM_NAME=Event Planning Team

# SMTP rate limiting and connection settings
SMTP_RATE_LIMIT_PER_HOUR=100
SMTP_CONNECTION_TIMEOUT=30
SMTP_MAX_CONNECTIONS=5

# CRM Retry Configuration
# ----------------------------------------------------------------------------
# Maximum number of retry attempts for failed communications
CRM_MAX_RETRIES=3

# Initial retry delay in seconds (1 minute)
CRM_INITIAL_RETRY_DELAY=60

# Maximum retry delay in seconds (15 minutes)
CRM_MAX_RETRY_DELAY=900

# Exponential backoff base (delay multiplier)
# Retry delays: 1min, 5min, 15min with base=5
CRM_RETRY_EXPONENTIAL_BASE=5

# Enable jitter to prevent thundering herd
CRM_RETRY_JITTER_ENABLED=true
CRM_RETRY_JITTER_MAX=30

# CRM Batch Processing Configuration
# ----------------------------------------------------------------------------
# Enable batching of non-urgent communications
CRM_BATCH_ENABLED=true

# Maximum number of messages to batch together
CRM_BATCH_MAX_SIZE=3

# Time window for collecting messages to batch (seconds)
CRM_BATCH_WINDOW_SECONDS=300

# Urgency levels eligible for batching (comma-separated)
# Options: critical, high, normal, low
CRM_BATCH_ELIGIBLE_URGENCY=low